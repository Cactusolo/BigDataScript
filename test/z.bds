#!/usr/bin/env bds

# A function defining two sequential tasks
void someFunction(int i) {
	#print "Par: $i\n"
	task echo Task 1 iter $i; sleep 1
	wait // Wait for all tasks within this thread/parallel
	task echo Task 2 iter $i; sleep 1
}

# A loop fires threads of sequential tasks
for ( int i : range(1, 5) ) {
	#print "Loop: $i\n";
   	par someFunction(i)
}

