#!/usr/bin/env bds

done := false

void zzz(int n) {
	if( n > 2 ) {
		if( ! done ) {
			done = true
			print "Before checkpoint: zzz($n)\n"
			checkpoint "test/z.chp"
			print "After checkpoint: zzz($n)\n"
		}
		return
	}

	pid := par zzz(n+1)			# VarDeclaration: 1010, VariableInitImplicit: 1011 (pid), ExpressionParallel: 1012, StatementExpr: 1013, FunctionCall: 1014 (zzz)
	print "zzz($n)\t$pid\n"		# Print 1019
}

zzz(1)
wait
print "Done\n"
